# Use following to update Agent version (https://guides.rubygems.org/patterns/#semantic-versioning)
#
# PATCH 0.0.x level changes for implementation level detail changes, such as small bug fixes
# MINOR 0.x.0 level changes for any backwards compatible API changes, such as new functionality/features
# MAJOR x.0.0 level changes for backwards incompatible API changes, such as changes that will break existing users code

# You should update:
# - codedeploy_agent.gemspec
# - thirdPartyVersion
# - interfaces = (x.x.x)
package.Aws-codedeploy-agent = {
    interfaces = (1.1.x);
    scope = third-party;

    third-party-configuration = {
      # This is important, please do not remove it.
      thirdPartyName       = "aws-codedeploy-agent";
      thirdPartyVersion    = "1.1.0";
      licenseType          = "Apache v2.0";
      licenseFile          = "Unknown";
      repository           = "raw";
      downloadType         = "unknown";
    };

    build-system = brazilrake;
    build-environment = {
      chroot = basic;
      network-access = blocked;
    };

    build-tools = {
        1.1.x = {
            BrazilGem = 1.1;
            BrazilRake = 1.2;
            Ruby21x = 1.0;
        };
    };
    dependencies = {
        1.1.x = {
            RubyGem-archive-tar-minitar = 0.5.2;
            RubyGem-aws-sdk-core = 3.x;
            RubyGem-aws-sdk-code-generator = 0.x;
            RubyGem-aws-sdk-s3 = 1.x;
            RubyGem-gli = 2.11.x;
            RubyGem-json_pure = 1.6.1;
            RubyGem-logging = 1.8.x;
            RubyGem-rspec = 3.2.x;
            RubyGem-rubyzip = 1.1.x;
            RubyGem-simple_pid = 0.2;
            RubyGem-docopt = 0.5.x;
            RubyGem-bundler = 1.3.x_AMZN;
            RubyGem-rake = 10.4.x;
            RubyGem-concurrent-ruby = 1.0.x;
        };
    };

    # Adding test dependencies declared in gemspec
    test-dependencies = {
        1.1.x = {
            RubyGem-test-unit = 2.5.5;
            RubyGem-shoulda = 3.4;
            RubyGem-shoulda-matchers = 1.5;
            RubyGem-shoulda-context = 1.1;
            RubyGem-fakefs = 0.4.x;
            RubyGem-mocha = 0.13.3;
            RubyGem-activesupport = 3.2;
            RubyGem-cucumber = 1.3.x;
            RubyGem-coveralls = 0.8.x;
        };
    };

    resolves-conflict-dependencies = {
        1.1.x = {
            RubyGem-multi_json = 1.10.x;
            RubyGem-mocha = 0.13.3;
            RubyGem-json_pure = 1.6.1;
            RubyGem-kramdown = 1.16.x;
            RubyGem-aws-sdk-core = 3.x;
        };
    };

    targets = { ruby = { type=ruby; }; };
};
